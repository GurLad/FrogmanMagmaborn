priority:5
unique:T
~ Requirements
roomNumber:7
~ Demands
hasCharacter:Fashima_
~ Before battle
:play:GuardTheme2
:setSingleSpeaker:R
:loadUnits::monster
:addGenericCharacter:Lieutenant
:addGenericCharacter:Guard1
:loadUnits::guard:T
Brens: Fashima!
Fashima_: What is it now, Brens?
Brens: Is it true? That there's another new Magmaborn?!
Fashima_: Yes.\a Took you long enough to realize that.
Brens: You knew? Why didn't you say anything?!\a It's your job to prevent such incidents!
Fashima_: Isn't it your job to take care of the city,\a instead of pestering me?
Brens: Don't change the subject!\a Are they dangerous?\a Will they try escaping?!
Fashima_: I don't know.
Brens: You don't know?!
Fashima_: Yes, I don't know.\a I'm not made of answers, you know.
Brens: Argh! This is a disaster!
Fashima_: Calm down, old man. Everything's under control.
Brens: Old man?! You know that I'm younger than-\a Ugh, I've had enough!\a Keep an eye on the wall while I'm gone.
:killUnit:Brens
:setSingleSpeaker:L
Fashima_: ...Good riddance.
:play:BeforeBattle2
:loadUnits::player:T
:setSingleSpeaker:L
Frogman: We're finally here...\a Wow, this place is crawling with Guards.
:call:Reaction
:setSingleSpeaker:R
Guard1: Magmaborn? Here?!\a Quick, sound the alarm!\a Alert Fashima!
Lieutenant: Right away!
:setSpeaker:Fashima_||L
Lieutenant: Fashima! We're under attack by Magmaborn!
Fashima_: What impeccable timing.\a Well, everyone, you know what to do.\a Defend me at all costs.
Lieutenant: Yes, master!
:setBattleQuote:Fashima:FashimaBattleQuote
:markDone:

~ After battle
:play:AfterBattle
Frogman: Wow! We beat Fashima! Yay!
:play:Trustworthy
Torment: Yay indeed!\a Now, you shall die!
:showPartTitle:End of:Demo
:lose:

# === Functions ====

~ Reaction
:if:hasCharacter:Firbell{
Firbell||R: They are protecting the Fortress. TBA
}
:if:hasCharacter:Kresla{
Kresla||R: I've never seen so many Guards in one place!\a Whatever it is that they're protecting,\a it must be extremely valuable!
}
:if:hasCharacter:Xirveros{
Xirveros||R: Rocks! Lots of lots of rocks. So many lovely rocks!
}
:if:hasCharacter:Xeplogi{
Xeplogi||R: TBA
}
:if:hasCharacter:Alfred{
Alfred||R: The crystals.\a The Guards.\a Just like it used to be.\a But this time, they'll die, not me.\a My friends...\a My family...\a Today, I will avenge you, at long last!
}
:if:hasCharacter:Memerian{
:if:charactersAlive:<2{
Memerian||R: Indeed. It's entire purpose is to prevent us from leaving.\a And the monsters, of course.
Frogman: Did you ever get insider?
Memerian: No, never. They are always led by a powerfull mage.\a Fashima.\a She was way too strong.\a Annoying as hell, too.
Frogman: I see.\a Let's go defeat her, then.
Memerian: Defeat her? Pfft!
Our only hope is that she had died of old age by now.
Frogman: Was she truly that powerfull?
Memerian: She's a mage. She doesn't play fair.\a But enough chitchat - you'll see for yourself,\a soon enough.
Frogman: Right.
}
:else:{
Memerian||R: ...Let's hope they don't have a mage in here.
}
}

~ FashimaBattleQuote
:if:stringEquals:[Name:Attacker]:Memerian{
:if:!hasTempFlag:FashimaBattleMemerian{
# TBA
:setTempFlag:FashimaBattleMemerian
}
}
:if:stringEquals:[Name:Attacker]:Frogman{
:if:!hasTempFlag:FashimaBattleFrogman{
# TBA
:setTempFlag:FashimaBattleFrogman
}
}
:setBattleQuote:Fashima:FashimaBattleQuote
