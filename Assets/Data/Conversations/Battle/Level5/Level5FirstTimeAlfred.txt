priority:4
unique:T
~ Requirements
roomNumber:5
# The first time has no requirement (like Xeplogi). This could make the run slightly easier, but prevents people from completely missing out on a character.
#charactersAlive:<2
~ Demands
# Guarantee a map that makes sense for the arrivals
hasTag:PlayersSpawnFirst
~ Before battle
:play:BeforeBattle2
:if:firstTime:{
:loadUnits::player
Frogman: Huh. Xeplogi isn't here.\a Hopefully it will be a bit quite at last.
:addUnit:Alfred
:loadUnits::player
Alfred|???: Hey. You there.
Frogman: Ah! Where did you come from?
:if:hasCharacter:Firbell{
Alfred: Name's Alfred. Who're you?
Frogman: My name is Frogman.
Firbell: And I am Firbell. Pleased to make your acquaintance.
Alfred: Greetings.\a You fighting the Guards?
Frogman: The humans, you mean?
Alfred: Obviously.\a Never heard of 'em before?
Firbell: I have not. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Frogman: Sounds ominous.
We've only fought them once or twice here.
Alfred: Pah! The ones here are scum.\a They are weak.\a But I smell 'em coming.\a Get ready.
Firbell: How can you smell without a-
:setFlag:AlfredFirbell
}
:else:{
:if:hasCharacter:Kresla{
Alfred: Name's Alfred. Who're-
Kresla||L: Hi there! I've never seen you before!\a Where are you from?
Alfred: ...Alezis.
Kresla: Um, I've never heard of it.
Alfred: Pah. You heard about Guard name?\a Bomzing?
Kresla: Wait, Bomzing? I'm from there!
Alfred: Ha! Fool!\a That's Guard name.\a They try erasing our history.\a Our names!\a We mustn't forget!\a Do not listen!
Kresla: Uh, look, when I come from, there are no "Guards".\a Nor Alezis, for that matter.
Frogman||L: Kresla...
Kresla||L: Which means that the Guards succeeded in erasing your history!\a Interesting!
Alfred: No!\a You lie!\a Are you Guard agent?!
Kresla: What? No, I never saw any Guards when I was alive.\a They must have hidden their existence,\a alongside yours.\a Can you tell me more about them?
Alfred: Pah! How can you not know the Guards,\a yet know Guard name?!\a You liar!
Kresla: Why would I lie? It's not my fault your country was-
Alfred: Silence! The Guards.\a I smell 'em coming.\a Prove your claim against them!
Kresla: Smell? How can you-
:setFlag:AlfredKresla1
}
:else:{
:if:hasCharacter:Xirveros{
Alfred: Name's Alfred. Who're you?
Xirveros: Me Xirveros. This Frog.
Alfred: Greetings.\a You fighting the Guards?
Xirveros: Guards! Guards!
Frogman: Uh... Are you talking about the humans?
Alfred: Obviously.\a Never heard of 'em before?
Frogman: No. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Xirveros: Destroy Guards! Guards Destroy!
Alfred: Yes, we will destroy them.\a All of them.
Frogman: Sure... I'll just leave you two alone.
Xirveros: They Guard. We must Guard.
Alfred: Destroy Guards!
Xirveros: Guards!
Alfred: Guards!\a They're here!
}
:else:{
Alfred: Name's Alfred. Who're you?
Frogman: My name is Frogman.
Alfred: Greetings.\a You fighting the Guards?
Frogman: The humans, you mean?
Alfred: Obviously.\a Never heard of 'em before?
Frogman: No. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Frogman: Sounds ominous.
We've only fought them once or twice here.
Alfred: Pah! The ones here are scum.\a They are weak.\a But I smell 'em coming.\a Get ready.
Frogman: Smell? How?
}
}
}
:addGenericCharacter:Guard1:
:addGenericCharacter:Guard2:
:play:GuardTheme
:loadUnits:
Guard1: Well, well... What do we have here?\a A Magma party?
Guard2: Heh heh. Magma party. Sounds fun.
Guard1: What? No, that's not-
Never mind, I have no time to waste on you again.\a Everyone, charge!
Guard2: Heh heh. Charge. Sounds fun.
:unlockAchievement:JoinAlfred
}
:else:{
:addUnit:Alfred
:loadUnits::player
:if:charactersAlive:>1{
Frogman: We're back. Let's hope we don't die this time.
:if:hasCharacter:Firbell{
Firbell: Indeed.
Frogman: ...
Firbell: ...
Frogman: Do you feel like... we're been watched?
:if:hasCharacter:Xirveros{
Xirveros: I'm watching you!
Frogman: Thanks, Xirveros.
}
Firbell: You are right. Someone is here.
Frogman: Guards? Monsters?
Firbell: It is unlike them to hide.
Alfred: ...They're approaching.
Frogman: Ah! Alfred!\a How long have you been here?
Alfred: Too long.
}
:else:{
:if:hasCharacter:Kresla{
Kresla: Right! I'd like to check out these structures some more!
Frogman: Uh, Kresla... I feel like there's someone else here.
:if:hasCharacter:Xirveros{
Xirveros: Me?
Frogman: Besides you, Xirveros.
}
Kresla: Huh? Oh, are you talking about Alfred?
Frogman: Alfred? He's here?
Alfred: ...Yes.
Frogman: Oh! I... didn't notice you.
Alfred: No time for nonsense.\a They're coming.
Frogman: Huh?
}
:else:{
# Only Xirveros
Xirveros?
Xirveros: Me?
Frogman: Yes.\a I feel like we're being watched.
Xirveros: You mean Alfred?
Frogman: Alfred? Why, is he here?
Alfred: Yes.
Frogman: Ah! Where did you come from?
Alfred: The shadows.
Frogman: There... aren't many shadows in this place.\a What with all the magma.
Alfred: ...The Guards.\a They're coming.
Frogman: What's that to do with shad-
}
}
}
:else:{
Frogman: I'm back. And I'm... all alone now.
Alfred: No.
Frogman: Ah! Alfred! Where did you come from?
Alfred: The shadows.
Frogman: There... aren't many shadows in this place.\a What with all the magma.
Alfred: ...The Guards.\a They're coming.
Frogman: What's that to do with shad-
}
:addGenericCharacter:Guard1:young
:addGenericCharacter:Guard2:young
:addGenericCharacter:Guard3:young
:addGenericCharacter:Guard4:young
:addGenericCharacter:Guard5:young
:addGenericCharacter:Guard6:young
:play:GuardTheme
:loadUnits:
Guard1: Quake and tremble, monsters! Your reign of terror is over!\a For we - the Incredible Six - are here to stop you!
:if:!hasFlag:MetTheSix{
Frogman: The Incredible Six?
Guard1: Indeed! I am [Name], the Invincible Fox!
:setFlag:MetTheSix
}
:else:{
Frogman: ...You're not the first ones to claim that title.
Guard1: Huh? Preposterous! We're the one and only- Uh, I mean,\a the six and only Incredible Six!
Frogman: Right...
Guard1: I am [Name], the Invincible Fox!
}
Guard2: Greetings, friends. My name is [Name],\a also known as the Sly Dog.
Guard3: Hello. My name is [Name] Boslivixon. Prepare to die.
Guard4: Hi! I'm [Name], the Speedy Turtle!\a I'm the best of the Six! You don't stand a chance!
Guard5: [Name] here. The Pidgeon.
I'll wipe your ugly visage off the face of this world.
Guard6: Uh, I'm [Name]. I was told this was some kind of a party?\a Why are there so many weapons?
Frogman: ...You're all insane.
Guard5: And you're a delusional piece of dead meat.
Guard2: En garde!
}

~ After battle
Frogman: This way!\a Time to get out of here!
:if:hasCharacter:Alfred{
:call:PostAlfred
}
:else:{
:call:PostAlfredDead
}
:setFlag:MetAlfred

# === Functions ====

~ PostAlfred
# The "fix" only happens in level 6 - Alfred abandons the player if they still have too many characters
:if:teamUnitsAlive:guard:>0{
Alfred: You're running away?!\a Pah, cowards, every one of you!
Frogman: Alfred, they're too many!\a We've got to leave, now!
Alfred: I'd rather die than run!
Frogman: What?\a Um...\a Then look at it this way - if you survive,
you can help us defeat more Guards in the future!\a Yeah!
We're stronger together, don't you think?
Alfred: ...Urgh.\a Fine.\a I admit you're strong.\a I'll follow for now, Frogman.
}
:loadMap:Part2RestArea
:loadUnits:Part2RestArea
:play:Anticipation
# Frogman notices Alfred's ring
Frogman||L: Whew, we're safe.
:if:hasCharacter:Firbell{
Firbell: At last, we are. But not for long.\a We should prepare for battle.
Frogman: Sure, go ahead.
}
:if:hasCharacter:Kresla{
Kresla: Yes. And we have time to explore a bit, even!\a I think I'll try to study the structure here.\a What IS this material?
Frogman: Sure, go ahead.
}
:if:hasCharacter:Xirveros{
Xirveros: This memory. My memory. Like rock! Rock song!\a Fred, want rock song?
Alfred: ...No.
Xirveros: Oof.
}
Frogman||L: ...
Alfred: ...Your ring.\a It's like mine.\a Where's it from?
Frogman: What? Oh, my Magma Emblem.\a I don't remember.
Alfred: Really?\a There was only one other.\a Taken by the Guards.\a You stole it?
Frogman: Uh... Maybe?
Alfred: You better have.\a Only other way is you're a Guard.\a In which case, I'll kill you.
Frogman: No, I'm pretty sure I wasn't a Guard.\a But then, where is your ring from?
Alfred: They took them both.\a I was sent to retrieve.\a They killed me, the fools!\a Now I am vengeance.
Frogman: I... see.
Alfred: I'll be watching you, Frogman.\a You better not be lying.
Frogman: I am not.\a ...I hope.
:setFlag:AlfredRing

~ PostAlfredDead
:loadMap:Part2RestArea
:loadUnits:Part2RestArea
:play:SafeAndSound
Frogman: Alfred... But I'm sure he'll be back.
