priority:4
unique:T
~ Requirements
roomNumber:5
# The first time has no requirement (like Xeplogi). This could make the run slightly easier, but prevents people from completely missing out on a character.
#charactersAlive:<2
~ Demands
# Nothinig
~ Before battle
:play:BeforeBattle2
:loadUnits::player
Frogman: Huh. Xeplogi isn't here.\a Hopefully it will be a bit quite at last.
:addUnit:Alfred
:loadUnits::player
Alfred|???: Hey. You there.
Frogman: Ah! Where did you come from?
:if:hasCharacter:Firbell{
Alfred: Name's Alfred. Who're you?
Frogman: My name is Frogman.
Firbell: And I am Firbell. Pleased to make your acquaintance.
Alfred: Greetings.\a You fighting the Guards?
Frogman: The humans, you mean?
Alfred: Obviously.\a Never heard of 'em before?
Firbell: I have not. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Frogman: Sounds ominous.
We've only fought them once or twice here.
Alfred: Pah! The ones here are scum.\a They are weak.\a But I smell 'em coming.\a Get ready.
Firbell: How can you smell without a-
:setFlag:AlfredFirbell
}
:else:{
:if:hasCharacter:Kresla{
Alfred: Name's Alfred. Who're-
Kresla||L: Hi there! I've never seen you before!\a Where are you from?
Alfred: ...Alezis.
Kresla: Um, I've never heard of it.
Alfred: Pah. You heard about Guard name?\a Bronzing?
Kresla: Wait, Bronzing? I'm from there!
Alfred: Ha! Fool!\a That's Guard name.\a They try erasing our history.\a Our names!\a We mustn't forget!\a Do not listen!
Kresla: Uh, look, when I come from, there are no "Guards".\a Bronzing is an independant country.\a But now that you mention it, Alezis never appeared in any history I know of.\a Interesting! So these Guards did erase your history!
Alfred: What?! You...\a Pah. They're coming.\a Get ready.
Kresla: How can you- 
:setFlag:AlfredKresla
}
:else:{
:if:hasCharacter:Xirveros{
Alfred: Name's Alfred. Who're you?
Xirveros: Me Xirveros. This Frog.
Alfred: Greetings.\a You fighting the Guards?
Xirveros: Guards! Guards!
Frogman: Uh... Are you talking about the humans?
Alfred: Obviously.\a Never heard of 'em before?
Frogman: No. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Xirveros: Destroy Guards! Guards Destroy!
Alfred: Yes, we will destroy them.\a All of them.
Frogman: Sure... I'll just leave you two alone.
Xirveros: They Guard. We must Guard.
Alfred: Destroy Guards!
Xirveros: Guards!
Alfred: Guards!\a They're here!
}
:else:{
Alfred: Name's Alfred. Who're you?
Frogman: My name is Frogman.
Alfred: Greetings.\a You fighting the Guards?
Frogman: The humans, you mean?
Alfred: Obviously.\a Never heard of 'em before?
Frogman: No. What are they doing here?
Alfred: Ah.\a Lucky you.\a Free of their wrath.\a The destruction they leave behind.
Frogman: Sounds ominous.
We've only fought them once or twice here.
Alfred: Pah! The ones here are scum.\a They are weak.\a But I smell 'em coming.\a Get ready.
Frogman: Smell? How?
}
}
}
:addGenericCharacter:Guard1:
:addGenericCharacter:Guard2:
:play:GuardTheme
:loadUnits:
Guard1: Well, well... What do we have here?\a A Magma party?
Guard2: Heh heh. Magma party. Sounds fun.
Guard1: What? No, that's not-
Never mind, I have no time to waste on you again.\a Everyone, charge!
Guard2: Heh heh. Charge. Sounds fun.
~ After battle
Frogman: This way!\a Time to get out of here!
:if:hasCharacter:Alfred{
:call:PostAlfred
}
:else:{
:call:PostAlfredDead
}
:setFlag:MetAlfred

# === Functions ====

~ PostAlfred
# The "fix" only happens in level 6 - Alfred abandons the player if they still have too many characters
:if:teamUnitsAlive:guard:>0{
Alfred: You're running away?!\a Pah, cowards, every one of you!
Frogman: Alfred, they're too many!\a We've got to leave, now!
Alfred: I'd rather die than run!
Frogman: What?\a Um...\a Then look at it this way - if you survive,
you can help us defeat more Guards in the future!\a Yeah!
We're stronger together, don't you think?
Alfred: ...Urgh.\a Fine.\a I admit you're strong.\a I'll follow for now, Frogman.
}
:loadMap:Part2RestArea
:loadUnits:Part2RestArea
:play:Anticipation
# Frogman notices Alfred's ring
Frogman||L: Whew, we're safe.
:if:hasCharacter:Firbell{
Firbell: At last, we are. But not for long.\a We should prepare for battle.
Frogman: Sure, go ahead.
}
:if:hasCharacter:Kresla{
Kresla: Yes. And we have time to explore a bit, even!\a I think I'll try to study the structure here.\a What IS this material?
Frogman: Sure, go ahead.
}
:if:hasCharacter:Xirveros{
Xirveros: This memory. My memory. Like rock! Rock song!\a Fred, want rock song?
Alfred: ...No.
Xirveros: Oof.
}
Frogman||L: ...
Alfred: ...Your ring.\a It's like mine.\a Where's it from?
Frogman: What? Oh, my Magma Emblem.\a I don't remember.
Alfred: Really?\a There was only one other.\a Taken by the Guards.\a You stole it?
Frogman: Uh... Maybe?
Alfred: You better have.\a Only other way is you're a Guard.\a In which case, I'll kill you.
Frogman: No, I'm pretty sure I wasn't a Guard.\a But then, where is your ring from?
Alfred: They took them both.\a I was sent to retrieve.\a They killed me, the fools!\a Now I am vengeance.
Frogman: I... see.
Alfred: I'll be watching you, Frogman.\a You better not be lying.
Frogman: I am not.\a ...I hope.
:setFlag:AlfredRing

~ PostAlfredDead
:loadMap:Part2RestArea
:loadUnits:Part2RestArea
:play:SafeAndSound
Frogman: Alfred... But I'm sure he'll be back.
