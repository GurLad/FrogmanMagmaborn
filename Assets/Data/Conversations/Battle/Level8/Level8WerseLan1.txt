priority:4
unique:T
~ Requirements
roomNumber:8
hasFlag:BrensDied
~ Demands
!hasCharacter:Brens
~ Before battle
:play:GuardTheme3
:addGenericCharacter:Lieutenant:old
:addGenericCharacter:Guard1:young
:loadUnits::guard
# TBA: Make it clearer that Werse uses crystals to heal Lan & put him to sleep
:loadUnits::monster:T
:setSpeaker:Werse
Lan: Ow! Let me go! You're... hurting me!
Werse: Stop struggling, and I'll let you go.
Lan: This is unfair! I could've... beat them!\a Why... why did you stop me?!
Werse: No, you couldn't. You would've died.\a And we can't afford to lose you. Not now.
Lan: No, no, no! You're wrong! I... I was just getting warmed up!\a I can beat them! I'm... better than them!
Werse: Oh, just shut up and let me treat your wounds.
Lan: I will not- Ah! Argh! Oof!
Werse: There you go. This should be enough to keep you alive.
Lan: Ah... I feel... tired... What have... you...
Werse: [Name:Guard1]?
Guard1: Yes, master?
Werse: Take this one to his room.
He should remain asleep for a few more hours.
Guard1: Yes, master!
:killUnit:Lan:F
:setSingleSpeaker:L
Werse: Ugh. What a pain.
Lieutenant: Did you say something, master?
Werse: Nothing, [Name:Lieutenant].
The Magmaborn should be here soon.\a Get everyone ready, please.
Lieutenant: Yes, master!
:loadUnits::player:T
:play:BeforeBattle3
:setSingleSpeaker:L
:call:Reaction
:setBattleQuote:Werse:WerseBattle
:markDone:

~ After battle
:unlockAchievement:DefeatWerse
:callOther:Level8FashimaSpawn

# === Functions ====

~ WerseBattle
:if:stringEquals:[Name:Attacker]:Werse{
Werse||R: ...I surrender.
Defender: Huh?
Werse: There's no need for any more lives to be lost today.\a Pretend to kill me,\a and the Guards will flee.
Defender: What?
Werse: ...Fine, I'll do it myself.
:screenShake:
Urk! You've... got me...\a I must... retreat...
:hideUnit:Werse
:if:teamUnitsAlive:guard:>0{
:getGenericCharacter:Guard1
}
:else:{
:addGenericCharacter:Guard1
}
Guard1: W-werse! They're... gone!\a Retreat, everyone!
:killTeam:guard
Defender: ...What just happened?
}
:else:{
Werse||R: ...I surrender.
Attacker: Huh?
Werse: There's no need for any more lives to be lost today.\a Pretend to kill me,\a and the Guards will flee.
Attacker: What?
Werse: ...Fine, I'll do it myself.
:screenShake:
Urk! You've... got me...\a I must... retreat...
:hideUnit:Werse
:if:teamUnitsAlive:guard:>0{
:getGenericCharacter:Guard1
}
:else:{
:addGenericCharacter:Guard1
}
Guard1: W-werse! They're... gone!\a Retreat, everyone!
:killTeam:guard
Attacker: ...What just happened?
}

~ Reaction
:if:hasCharacter:Firbell{
:if:!hasFlag:FirbellDoubts{
Frogman: We're back...
:callOther:Level8FirbellDoubts
:return:
}
}
Frogman: We're back... Come on, we've got no time to lose!
